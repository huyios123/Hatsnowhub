local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local Camera = workspace.CurrentCamera
local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

local Ball
local Controlling = false
local BallSpeed = 70

local GUI = Instance.new("ScreenGui")
GUI.Name = "ControlBallUI"
GUI.Parent = Player:WaitForChild("PlayerGui")

local HubLabel = Instance.new("TextLabel")
HubLabel.Size = UDim2.new(0.5, 0, 0.1, 0)
HubLabel.Position = UDim2.new(0.25, 0, 0.4, 0)
HubLabel.BackgroundTransparency = 1
HubLabel.Text = "HAT SNOW HUB"
HubLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
HubLabel.TextScaled = true
HubLabel.Parent = GUI

local Instructions = Instance.new("TextLabel")
Instructions.Size = UDim2.new(0.5, 0, 0.05, 0)
Instructions.Position = UDim2.new(0.25, 0, 0.5, 0)
Instructions.BackgroundTransparency = 1
Instructions.Text = "F: Control Bóng | E: Tăng Speed | R: Giảm Speed"
Instructions.TextColor3 = Color3.fromRGB(200, 200, 200)
Instructions.TextScaled = true
Instructions.Parent = GUI

local ControlButton = Instance.new("TextButton")
ControlButton.Size = UDim2.new(0.18, 0, 0.08, 0)
ControlButton.Position = UDim2.new(0.02, 0, 0.75, 0)
ControlButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
ControlButton.Text = "CONTROL"
ControlButton.TextScaled = true
ControlButton.Parent = GUI

local CreditLabel = Instance.new("TextLabel")
CreditLabel.Size = UDim2.new(0.18, 0, 0.04, 0)
CreditLabel.Position = UDim2.new(0.02, 0, 0.83, 0) -- Đặt ngay dưới CONTROL
CreditLabel.BackgroundTransparency = 1
CreditLabel.Text = "Made by hatsnow"
CreditLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
CreditLabel.TextScaled = true
CreditLabel.Parent = GUI

local function FadeText(label)
    local FadeIn = TweenService:Create(label, TweenInfo.new(1.5, Enum.EasingStyle.Linear), {TextTransparency = 0})
    local FadeOut = TweenService:Create(label, TweenInfo.new(1.5, Enum.EasingStyle.Linear), {TextTransparency = 1})
    FadeIn:Play()
    wait(10)
    FadeOut:Play()
    wait(1.5)
    label:Destroy()
end

spawn(function()
    FadeText(HubLabel)
    FadeText(Instructions)
end)

local function FindBall()
    return workspace:FindFirstChild("Football")
end

local function ControlBall()
    Ball = FindBall()
    if not Ball then return end
    Controlling = not Controlling
    Camera.CameraSubject = Controlling and Ball or Character
    if Controlling then
        if not Ball:FindFirstChild("BodyVelocity") then
            local Velocity = Instance.new("BodyVelocity")
            Velocity.MaxForce = Vector3.new(1000000, 1000000, 1000000)
            Velocity.Parent = Ball
        end
        RunService.Heartbeat:Connect(function()
            if not Controlling or not Ball or not Ball.Parent then
                if Ball:FindFirstChild("BodyVelocity") then
                    Ball.BodyVelocity:Destroy()
                end
                return
            end
            Ball.BodyVelocity.Velocity = Camera.CFrame.LookVector * BallSpeed
        end)
    end
end

local function AdjustSpeed(increase)
    if increase then
        BallSpeed = math.min(BallSpeed + 10, 200)
    else
        BallSpeed = math.max(BallSpeed - 10, 10)
    end
end

ControlButton.MouseButton1Click:Connect(ControlBall)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.F then
        ControlBall()
    elseif input.KeyCode == Enum.KeyCode.E then
        AdjustSpeed(true)
    elseif input.KeyCode == Enum.KeyCode.R then
        AdjustSpeed(false)
    end
end)
